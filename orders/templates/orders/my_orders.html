<!-- templates/orders/my_orders.html -->

{% extends "base.html" %}

{% block content %}
<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã</h1>

  {% if orders %}
    {% for order in orders %}
      <div class="border rounded p-4 mb-4 shadow">
        <div class="flex justify-between mb-2">
          <div><strong>–ó–∞–∫–∞–∑ #{{ order.id }}</strong></div>
          <div class="text-sm text-gray-600">{{ order.created_at|date:"Y-m-d H:i" }}</div>
        </div>
        <div class="mb-2">
          –°—Ç–∞—Ç—É—Å: <span class="font-semibold">{{ order.get_status_display }}</span><br>
          –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏: {{ order.delivery_address }}
        </div>
        <div class="mb-2">
          <strong>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</strong>
          <ul class="ml-4 list-disc">
            {% for item in order.items.all %}
              <li>{{ item.product.name }} ‚Äî {{ item.quantity }} —à—Ç. √ó {{ item.price }} —Å–æ–º–æ–Ω–∏</li>
            {% endfor %}
          </ul>
        </div>
        <div class="text-right font-bold">
          –ò—Ç–æ–≥–æ: {{ order.total_amount }} —Å–æ–º–æ–Ω–∏
        </div>
      </div>
    {% endfor %}
  {% else %}
    <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤.</p>
  {% endif %}
</div>
{% endblock %}
