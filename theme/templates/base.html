{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Duzanda ‚Äî –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Tailwind –±–∏–ª–¥ -->
  <link href="{% static 'css/dist/styles.css' %}" rel="stylesheet">

  <!-- –®—Ä–∏—Ñ—Ç –≤ —Å—Ç–∏–ª–µ OZON -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-50 font-sans text-gray-900 min-h-screen flex flex-col">

  <!-- Header OZON style -->
  <header class="bg-white shadow-sm px-6 py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
    <!-- –õ–æ–≥–æ—Ç–∏–ø –∏ –ö–∞—Ç–∞–ª–æ–≥ -->
    <div class="flex items-center gap-4">
      <a href="/" class="text-3xl font-extrabold text-blue-600">DUZANDA</a>
      <a href="{% url 'products:product_list' %}"
         class="bg-blue-600 text-white font-semibold px-4 py-2 rounded-full hover:bg-blue-700 transition">
        –ö–∞—Ç–∞–ª–æ–≥
      </a>
    </div>

    <!-- –ü–æ–∏—Å–∫ -->
    <form action="#" method="get" class="flex flex-1 max-w-3xl">
      <select name="category"
              class="border border-gray-300 rounded-l-full px-4 py-2 text-sm text-gray-600 focus:outline-none">
        <option>–í–µ–∑–¥–µ</option>
        <!-- –ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
      </select>
      <input type="text" placeholder="–ü–æ–∏—Å–∫ –ø–æ Duzanda"
             class="flex-1 border-t border-b border-gray-300 px-4 py-2 text-sm focus:outline-none">
      <button type="submit" class="bg-blue-600 text-white px-4 rounded-r-full">
        üîç
      </button>
    </form>

    <!-- User –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="flex items-center gap-6 text-sm">
      {% if user.is_authenticated %}
        {% if user.role == "master" %}
          <a href="{% url 'products:my_products' %}" class="hover:underline">–ú–æ–∏ —Ç–æ–≤–∞—Ä—ã</a>
        {% endif %}
        <a href="{% url 'orders:my_orders' %}" class="hover:underline">–ó–∞–∫–∞–∑—ã</a>
        <a href="{% url 'cart:view_cart' %}" class="hover:underline">–ö–æ—Ä–∑–∏–Ω–∞</a>
        <a href="{% url 'accounts:profile' %}" class="hover:underline">–ü—Ä–æ—Ñ–∏–ª—å</a>
        <a href="{% url 'account_logout' %}" class="hover:underline text-red-600">–í—ã–π—Ç–∏</a>
      {% else %}
        <a href="{% url 'account_login' %}" class="hover:underline">–í–æ–π—Ç–∏</a>
      {% endif %}
    </div>
  </header>

  <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
  {% if messages %}
    <div class="container mx-auto p-4">
      {% for message in messages %}
        <div class="mb-2 p-3 rounded text-white 
          {% if message.tags == 'error' %}bg-red-500
          {% elif message.tags == 'success' %}bg-green-500
          {% else %}bg-blue-500{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="flex-1 container mx-auto px-4 py-8">
    {% block content %}{% endblock %}
  </main>

  <!-- –§—É—Ç–µ—Ä -->
  <footer class="bg-gray-100 border-t p-4 text-center text-xs text-gray-500">
    &copy; {{ now|date:"Y" }} Duzanda. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
  </footer>

</body>
</html>
